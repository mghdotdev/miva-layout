<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>MivaLayout Demo</title>
</head>
<body>

	<div id="app">
		<ol>
			<addon-section
				v-for="addonSection in components"
				:key="addonSection.id"
				:addon-section="addonSection"
			></addon-section>
		</ol>
	</div>
	
	<script src="../dist/miva-layout.bundle.js"></script>
	<script src="https://unpkg.com/vue"></script>
	<script src="https://unpkg.com/vuex"></script>

	<!-- <script src="./demo.js"></script> -->

	<script>
		(function( mivaJS ) {
			
			mivaJS.royalLayout = [{"active": 1, "attributes": {"description": {"value": ""}, "heading": {"value": "Pool Structure & Depth"}, "holds_attributes": {"value": ""}, "is_collapsed": {"value": 1 } }, "children": [{"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": 0 }, "attribute_code": {"value": "Corner Radius"}, "category": {"category": {"code": "", "id": 0 }, "value": ":id=0"}, "category_background_filters": {"value": ""}, "display_type": {"value": "grid"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_sample"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 1, "id": 281, "layout_id": 20, "name": "Corner Radius", "parent": 280 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-brace-system", "id": 3702 }, "value": ":code=kit-brace-system,:id=3702"}, "category_background_filters": {"value": ""}, "display_type": {"value": "grid"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_bracesys"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 2, "id": 282, "layout_id": 20, "name": "Brace System", "parent": 280 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-deck-supports", "id": 4573 }, "value": ":code=kit-deck-supports,:id=4573"}, "category_background_filters": {"value": ""}, "display_type": {"value": "grid"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "category"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_decksupport"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 3, "id": 283, "layout_id": 20, "name": "Deck Supports", "parent": 280 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": "Pool_Depth_42"}, "category": {"category": {"code": "", "id": 0 }, "value": ":id=0"}, "category_background_filters": {"value": ""}, "display_type": {"value": "grid"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_poolbottoms"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 4, "id": 284, "layout_id": 20, "name": "Pool Depth", "parent": 280 } ], "children_count": 4, "component": {"allow_children": 1, "code": "product-addon-section", "descrip": "", "id": 2, "image": "", "name": "Product Add-on Section"}, "component_id": 2, "disp_order": 1, "id": 280, "layout_id": 20, "name": "Pool Structure &  Depth", "parent": 0 }, {"active": 1, "attributes": {"description": {"value": ""}, "heading": {"value": "Deck & Entry"}, "holds_attributes": {"value": ""}, "is_collapsed": {"value": 1 } }, "children": [{"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-coping", "id": 3704 }, "value": ":code=kit-coping,:id=3704"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "Flat-Face-Bullnose-Coping", "id": 0 }, "value": ":code=Flat-Face-Bullnose-Coping,:id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_coping"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 1, "id": 286, "layout_id": 20, "name": "Coping", "parent": 285 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": 0 }, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-coping-corners", "id": 4585 }, "value": ":code=kit-coping-corners,:id=4585"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 2, "id": 1125, "layout_id": 20, "name": "Coping Corners (hidden)", "parent": 285 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-rope-eye-kit", "id": 4668 }, "value": ":code=kit-rope-eye-kit,:id=4668"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 3, "id": 1147, "layout_id": 20, "name": "Rope Eye Kit (hidden)", "parent": 285 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": 0 }, "attribute_code": {"value": "entry_step_locations"}, "category": {"category": {"code": "", "id": 0 }, "value": ":id=0"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 4, "id": 1122, "layout_id": 20, "name": "Shallow End Entry Location", "parent": 285 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-shallow-end-entries", "id": 3705 }, "value": ":code=kit-shallow-end-entries,:id=3705"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "8FT-Roman-Back-Step", "id": 7430 }, "value": ":code=8FT-Roman-Back-Step,:id=7430"}, "included_product_quantity": {"value": 1 }, "key_filter_default_value": {"value": "Bolt-On Step"}, "key_filter_field": {"value": "f_type"}, "key_filter_title": {"value": "Type"}, "key_filter_values": {"value": "Bolt-On Step,Vinyl Over Step"}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 5, "id": 287, "layout_id": 20, "name": "Shallow End Entry Step", "parent": 285 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-step-coping-kit", "id": 4669 }, "value": ":code=kit-step-coping-kit,:id=4669"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 0 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 6, "id": 1148, "layout_id": 20, "name": "Step Coping Kit (hidden)", "parent": 285 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-step-jets", "id": 4574 }, "value": ":code=kit-step-jets,:id=4574"}, "category_background_filters": {"value": ""}, "display_type": {"value": "grid"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "product"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_stepjets"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 7, "id": 288, "layout_id": 20, "name": "Step Jets", "parent": 285 }, {"active": 1, "attributes": {"allow_disable": {"value": 1 }, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-handrails", "id": 3706 }, "value": ":code=kit-handrails,:id=3706"}, "category_background_filters": {"value": ""}, "display_type": {"value": "grid"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": 7659, "id": 0 }, "value": ":code=7659,:id=0"}, "included_product_quantity": {"value": 1 }, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "multiple"}, "selection_quantity_location": {"value": "product"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_handrails"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 8, "id": 289, "layout_id": 20, "name": "Handrail", "parent": 285 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-deep-end-entries", "id": 3708 }, "value": ":code=kit-deep-end-entries,:id=3708"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "NE123", "id": 1454 }, "value": ":code=NE123,:id=1454"}, "included_product_quantity": {"value": 1 }, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 9, "id": 291, "layout_id": 20, "name": "Deep End Entry", "parent": 285 }, {"active": 1, "attributes": {"allow_disable": {"value": 1 }, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-anchors", "id": 3707 }, "value": ":code=kit-anchors,:id=3707"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "PS4019P", "id": 3076 }, "value": ":code=PS4019P,:id=3076"}, "included_product_quantity": {"value": 2 }, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "category"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_anchors"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 10, "id": 290, "layout_id": 20, "name": "Anchors", "parent": 285 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-swimouts", "id": 3709 }, "value": ":code=kit-swimouts,:id=3709"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 11, "id": 292, "layout_id": 20, "name": "Swimout", "parent": 285 } ], "children_count": 11, "component": {"allow_children": 1, "code": "product-addon-section", "descrip": "", "id": 2, "image": "", "name": "Product Add-on Section"}, "component_id": 2, "disp_order": 2, "id": 285, "layout_id": 20, "name": "Deck & Entry", "parent": 0 }, {"active": 1, "attributes": {"description": {"value": ""}, "heading": {"value": "Water Filtration"}, "holds_attributes": {"value": ""}, "is_collapsed": {"value": 1 } }, "children": [{"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": 0 }, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-pool-pumps", "id": 3710 }, "value": ":code=kit-pool-pumps,:id=3710"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": "hp,collection,feature"}, "hidden": {"value": ""}, "included_product": {"product": {"code": "SD-Pump", "id": 7240 }, "value": ":code=SD-Pump,:id=7240"}, "included_product_quantity": {"value": 1 }, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 1, "id": 294, "layout_id": 20, "name": "Pool Pump", "parent": 293 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-pool-filters", "id": 3711 }, "value": ":code=kit-pool-filters,:id=3711"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": "price"}, "hidden": {"value": ""}, "included_product": {"product": {"code": "24-Inch-Sand-Filter", "id": 7273 }, "value": ":code=24-Inch-Sand-Filter,:id=7273"}, "included_product_quantity": {"value": 1 }, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 0 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 2, "id": 295, "layout_id": 20, "name": "Pool Filter", "parent": 293 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-skimmer-system", "id": 3712 }, "value": ":code=kit-skimmer-system,:id=3712"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "1sk-wm-bp-w", "id": 7296 }, "value": ":code=1sk-wm-bp-w,:id=7296"}, "included_product_quantity": {"value": 1 }, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_skimmers"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 3, "id": 296, "layout_id": 20, "name": "Skimmer System", "parent": 293 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-chlorinator", "id": 3713 }, "value": ":code=kit-chlorinator,:id=3713"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_chlorinator"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 4, "id": 297, "layout_id": 20, "name": "Chlorinator", "parent": 293 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-plumbing-kit", "id": 3719 }, "value": ":code=kit-plumbing-kit,:id=3719"}, "category_background_filters": {"value": ""}, "display_type": {"value": "grid"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "multiple"}, "selection_quantity_location": {"value": "product"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_pvc"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 5, "id": 298, "layout_id": 20, "name": "Plumbing Kit", "parent": 293 } ], "children_count": 5, "component": {"allow_children": 1, "code": "product-addon-section", "descrip": "", "id": 2, "image": "", "name": "Product Add-on Section"}, "component_id": 2, "disp_order": 3, "id": 293, "layout_id": 20, "name": "Water Filtration", "parent": 0 }, {"active": 1, "attributes": {"description": {"value": ""}, "heading": {"value": "Equipment   Accessories"}, "holds_attributes": {"value": ""}, "is_collapsed": {"value": 1 } }, "children": [{"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-maintenance-kits", "id": 3714 }, "value": ":code=kit-maintenance-kits,:id=3714"}, "category_background_filters": {"value": ""}, "display_type": {"value": "grid"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "multiple"}, "selection_quantity_location": {"value": "product"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_maintenance"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 1, "id": 300, "layout_id": 20, "name": "Maintenance Kit", "parent": 299 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": 1 }, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-pool-lights", "id": 3716 }, "value": ":code=kit-pool-lights,:id=3716"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_poollight"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 2, "id": 301, "layout_id": 20, "name": "Pool Light", "parent": 299 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-pool-heaters", "id": 3720 }, "value": ":code=kit-pool-heaters,:id=3720"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_poolheaters"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 3, "id": 302, "layout_id": 20, "name": "Heater", "parent": 299 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-pool-slides", "id": 3718 }, "value": ":code=kit-pool-slides,:id=3718"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 4, "id": 303, "layout_id": 20, "name": "Slide", "parent": 299 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-diving-boards", "id": 3717 }, "value": ":code=kit-diving-boards,:id=3717"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_diving"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 5, "id": 304, "layout_id": 20, "name": "Diving Board", "parent": 299 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-water-features", "id": 3721 }, "value": ":code=kit-water-features,:id=3721"}, "category_background_filters": {"value": ""}, "display_type": {"value": "grid"}, "filters_to_show": {"value": ""}, "hidden": {"value": ""}, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "multiple"}, "selection_quantity_location": {"value": "product"}, "selection_required": {"value": ""}, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": "/tool-tip-ui.html?tname=tooltip_waterfeatures"} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 6, "id": 305, "layout_id": 20, "name": "Water Features", "parent": 299 } ], "children_count": 6, "component": {"allow_children": 1, "code": "product-addon-section", "descrip": "", "id": 2, "image": "", "name": "Product Add-on Section"}, "component_id": 2, "disp_order": 4, "id": 299, "layout_id": 20, "name": "Equipment   Accessories", "parent": 0 }, {"active": 1, "attributes": {"description": {"value": ""}, "heading": {"value": "Liner"}, "holds_attributes": {"value": ""}, "is_collapsed": {"value": 1 } }, "children": [{"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": ""}, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-pool-liners", "id": 3722 }, "value": ":code=kit-pool-liners,:id=3722"}, "category_background_filters": {"value": ""}, "display_type": {"value": "grid"}, "filters_to_show": {"value": "feature,collection,water_color,"}, "hidden": {"value": ""}, "included_product": {"product": {"code": "LN-Baden-Smoke", "id": 7087 }, "value": ":code=LN-Baden-Smoke,:id=7087"}, "included_product_quantity": {"value": 1 }, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 1, "id": 307, "layout_id": 20, "name": "Liner", "parent": 306 }, {"active": 1, "attributes": {"allow_disable": {"value": ""}, "allow_duplication": {"value": 0 }, "attribute_code": {"value": ""}, "category": {"category": {"code": "kit-liner-charges", "id": 4584 }, "value": ":code=kit-liner-charges,:id=4584"}, "category_background_filters": {"value": ""}, "display_type": {"value": "list"}, "filters_to_show": {"value": ""}, "hidden": {"value": 0 }, "included_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "included_product_quantity": {"value": ""}, "key_filter_default_value": {"value": ""}, "key_filter_field": {"value": ""}, "key_filter_title": {"value": ""}, "key_filter_values": {"value": ""}, "recommended_product": {"product": {"code": "", "id": 0 }, "value": ":id=0"}, "recommended_product_quantity": {"value": ""}, "selection_method": {"value": "single"}, "selection_quantity_location": {"value": "hidden"}, "selection_required": {"value": 1 }, "tooltip_content_section": {"value": ""}, "tooltip_file_path": {"value": ""} }, "component": {"allow_children": 0, "code": "product-addon-category", "descrip": "", "id": 1, "image": "", "name": "Product Add-on Category"}, "component_id": 1, "disp_order": 2, "id": 1123, "layout_id": 20, "name": "Liner Manufacturer Charge (Hidden)", "parent": 306 } ], "children_count": 2, "component": {"allow_children": 1, "code": "product-addon-section", "descrip": "", "id": 2, "image": "", "name": "Product Add-on Section"}, "component_id": 2, "disp_order": 5, "id": 306, "layout_id": 20, "name": "Liner", "parent": 0 } ];

			mivaJS.layoutWithConfig = [ { "active": 1 , "attributes": { "appTitle": { "value": "Test App" } , "loadingImage": { "value": "graphics\/00000001\/04111.jpg" } , "storageKey": { "value": "test-app" } } , "component": { "allow_children": 0 , "code": "config" , "descrip": "config" , "id": 43 , "name": "config" } , "component_id": 43 , "disp_order": 1 , "id": 1260 , "layout_id": 56 , "name": "Config" , "parent": 0 } , { "active": 1 , "attributes": { "allow_duplication": { "value": 0 } , "category": { "category": { "code": "kit-coping" , "id": 3704 } , "value": ":code\u003Dkit-coping,:id\u003D3704" } , "display_type": { "value": "list" } , "filters_to_show": { "value": "color,size" } , "included_product": { "product": { "id": 0 } , "value": ":id\u003D0" } , "recommended_product": { "product": { "id": 0 } , "value": ":id\u003D0" } , "selection_method": { "value": "single" } , "selection_quantity_location": { "value": "product" } , "selection_required": { "value": 1 } } , "component": { "allow_children": 0 , "code": "product-addon-category" , "id": 1 , "name": "Product Add-on Category" } , "component_id": 1 , "disp_order": 2 , "id": 1261 , "layout_id": 56 , "name": "Coping" , "parent": 0 } ];

		})( window.mivaJS || (window.mivaJS = {}) );
	</script>

	<script>

		var royalLayout = new MivaLayout( mivaJS.royalLayout );

		royalLayout.createState(function( component ) {

			if ( component.type == 'product-addon-section' ) {

				return {
					openComponentIndex: null,
					isOpen: false
				};

			}
			else if ( component.type == 'product-addon-category' ) {

				if ( component.attributes.category == null ) {

					return {
						attribute: {}
					};

				}
				else {

					return {
						products: [],
						quantity: 1
					};

				}

			}

			return {};

		});

		Vue.component( 'addon-section', {
			props: [ 'addonSection' ],
			computed: Object.assign(
				{

				},
				Vuex.mapState({
					stateData: function( state ) {
						return state[ this.addonSection.id ].data;
					}
				})
			),
			methods: Object.assign(
				{
					openComponent: function( categoryId ) {
						this.$store.commit( 'setOpenAddonCategoryId', { id: this.addonSection.id, openAddonCategoryId: categoryId } );
					}
				}
			),
			template: `
				<li>
					<h2>{{ addonSection.name }}</h2>
					<span>{{ addonSection.type }}</span>
					<p>Attributes:</p>
					<pre>{{ addonSection.attributes }}</pre>

					<p>State:</p>
					<pre>{{ stateData }}</pre>

					<ol>
						<addon-category
							v-for="addonCategory in addonSection.children"
							:key="addonCategory.id"
							:addon-category="addonCategory"
							:open-component="openComponent"
						></addon-category>
					</ol>
				</li>
			`
		});

		Vue.component( 'addon-category', {
			props: [ 'addonCategory', 'openComponent', 'sectionId' ],
			template: `
				<li>
					<h2>{{ addonCategory.name }}</h2>
					<span>{{ addonCategory.type }}</span>
					<p>Attributes:</p>
					<pre>{{ addonCategory.attributes }}</pre>

					<button @click="openComponent( addonCategory.id );">Open Category</button>
				</li>
			`
		});

		var store = new Vuex.Store({
			state: royalLayout.state,
			mutations: {
				setOpenAddonCategoryId: function( state, payload ) {

					if ( payload && payload.id ) {

						var componentState = state[ payload.id ];

						componentState.data.openComponentIndex = payload.openAddonCategoryId;

					}
					
				}
			}
		});
		
		var app = new Vue({
			el: '#app',
			store: store,
			data: {
				components: royalLayout.components
			},
			templateUrl: './app.html'
		});

		

	</script>

</body>
</html>